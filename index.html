<!DOCTYPE html>
<html lang="fr" class="bg-black">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GENDASH PRO | L'Art du Chiffre</title>
    
    <!-- MODIF: Favicons -->
    <link rel="icon" href="favicon.ico" sizes="any">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="apple.png">
    <!-- END MODIF -->

    <!-- Core -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- FIREBASE CONNECTION (Fonctionnelle avec tes cl√©s) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, signInWithRedirect, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAlZ_51tlpNx0LnW6CgSxzMFKAQTptxqRk",
            authDomain: "gendash-94f78.firebaseapp.com",
            projectId: "gendash-94f78",
            storageBucket: "gendash-94f78.firebasestorage.app",
            messagingSenderId: "252014239446",
            appId: "1:252014239446:web:91ea4f6aecd7c0ed943377",
            measurementId: "G-3SWBP97P08"
        };

        try {
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            const analytics = getAnalytics(app);
            const provider = new GoogleAuthProvider();

            // Avertit si le fichier est servi via le protocole file://, ce qui emp√™che l'authentification Firebase
            if (window.location.protocol === 'file:') {
                console.warn(
                    'Firebase Auth ne peut pas terminer l‚Äôauthentification sur le protocole file://. Servez plut√¥t votre fichier via http(s):// ou ajoutez le domaine dans la console Firebase.'
                );
            }

            // FIX: Google popup closing ‚Äì ensure popup is triggered directly in click handler
            // Expose auth and provider for reuse
            window._firebaseAuth = auth;
            window._firebaseProvider = provider;
            /**
             * D√©clenche l'authentification Google.
             * Appelle signInWithPopup directement sans async/await pour conserver le geste utilisateur.
             * En cas d'√©chec ou de blocage du popup, bascule automatiquement sur signInWithRedirect.
             * @returns {Promise<import("https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js").User|null>}
             */
            window.loginWithGoogle = () => {
                try {
                    // L'appel est imm√©diat pour √©viter la fermeture automatique du popup sur Safari/Firefox.
                    return signInWithPopup(auth, provider)
                        .then((result) => {
                            return result.user;
                        })
                        .catch((error) => {
                            console.warn("Popup Google ferm√© ou bloqu√©, tentative de fallback redirect:", error);
                            // Certains navigateurs ou configurations refusent les popups sur file:// ou domaines non autoris√©s.
                            // On tente un fallback redirect uniquement si la page est servie en http(s),
                            // car le protocole file:// ne supporte pas le flux OAuth.
                            if (window.location.protocol.startsWith('http')) {
                                return signInWithRedirect(auth, provider)
                                    .then(() => null)
                                    .catch((err) => {
                                        console.error("√âchec du fallback redirect:", err);
                                        return null;
                                    });
                            } else {
                                console.warn('Impossible d\'utiliser signInWithRedirect sur le protocole file://. Configurez un serveur local ou autorisez le domaine dans Firebase.');
                                return null;
                            }
                        });
                } catch (err) {
                    console.error("Erreur inattendue lors de l'authentification:", err);
                    return Promise.resolve(null);
                }
            };

            window.logoutFirebase = async () => {
                try {
                    await signOut(auth);
                    return true;
                } catch (error) {
                    console.error("Erreur d√©connexion:", error);
                    return false;
                }
            };

            window.onAuthStateChange = (callback) => {
                onAuthStateChanged(auth, (user) => {
                    callback(user);
                });
            };

            console.log("üî• Firebase Auth Connect√© : gendash-94f78");
        } catch (e) {
            console.error("Erreur Config Firebase:", e);
        }
    </script>

    <!-- Fonts: Syne (Aggressive) & Inter (Clean) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Syne', 'sans-serif'],
                    },
                    colors: {
                        black: '#050505',
                        white: '#EAEAEA',
                        grey: '#1a1a1a'
                    },
                    backgroundImage: {
                        'noise': "url('data:image/svg+xml,%3Csvg viewBox=\"0 0 200 200\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cfilter id=\"noiseFilter\"%3E%3CfeTurbulence type=\"fractalNoise\" baseFrequency=\"0.65\" numOctaves=\"3\" stitchTiles=\"stitch\"/%3E%3C/filter%3E%3Crect width=\"100%25\" height=\"100%25\" filter=\"url(%23noiseFilter)\" opacity=\"0.05\"/%3E%3C/svg%3E')",
                    },
                    animation: {
                        'marquee': 'marquee 80s linear infinite',
                        'fade-in': 'fadeIn 0.3s ease-out',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(0%)' },
                            '100%': { transform: 'translateX(-50%)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* LUXURY RESET */
        body {
            cursor: auto; 
            overflow-x: hidden;
            background-color: #050505;
            min-height: 100vh;
        }
        
        @media (hover: hover) and (pointer: fine) {
            body { cursor: none; }
        }

        /* CUSTOM CURSOR */
        #cursor {
            position: fixed;
            top: 0;
            left: 0;
            width: 20px;
            height: 20px;
            border: 1px solid white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
            transition: width 0.3s, height 0.3s, background-color 0.3s;
            display: none; 
        }
        @media (hover: hover) and (pointer: fine) {
            #cursor { display: block; }
        }
        #cursor.hovered {
            width: 80px;
            height: 80px;
            background-color: white;
            border: none;
            mix-blend-mode: difference;
        }

        /* TEXT REVEAL ANIMATION */
        .reveal-text {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            will-change: opacity, transform;
        }
        .reveal-text.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* 3D TILT EFFECT */
        .tilt-card {
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
        }
        .tilt-content {
            transform: translateZ(50px);
        }

        /* PARALLAX LINES */
        .grid-line {
            position: absolute;
            background: rgba(255,255,255,0.05);
            z-index: 0;
        }
        
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONS (SVG) ---
        const Star = ({ filled = true }) => <svg width="14" height="14" viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>;
        const Plus = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>;
        const Minus = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5"><line x1="5" y1="12" x2="19" y2="12"/></svg>;
        const XIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
        const CheckCircle = () => <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" className="text-white"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>;
        const GoogleIcon = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"/></svg>;
        const LogOutIcon = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>;

        // --- MODIF: Captcha Logic ---
        const CaptchaModal = ({ onVerified }) => {
            const [sequence, setSequence] = useState([]);
            const targetSequence = [1, 2, 3];

            const handleTileClick = (num) => {
                const newSeq = [...sequence, num];
                if (newSeq[newSeq.length - 1] !== targetSequence[newSeq.length - 1]) {
                    setSequence([]);
                    return;
                }
                if (newSeq.length === 3) {
                    localStorage.setItem("human_verified", "1");
                    console.log("[captcha] Verified successfully.");
                    onVerified();
                } else {
                    setSequence(newSeq);
                }
            };

            return (
                <div className="fixed inset-0 z-[999] flex items-center justify-center bg-black/95 backdrop-blur-xl">
                    <div className="max-w-md w-full p-10 border border-white/10 bg-zinc-900/50 rounded-3xl text-center">
                        <h2 className="text-2xl font-display font-bold uppercase tracking-tighter mb-4 text-white">V√©rification de s√©curit√©</h2>
                        <p className="text-zinc-500 text-xs uppercase tracking-widest mb-8">Cliquez sur les jetons dans l'ordre (1, 2, 3)</p>
                        <div className="flex justify-center gap-6 mb-8">
                            {[2, 1, 3].map((n) => (
                                <button
                                    key={n}
                                    onClick={() => handleTileClick(n)}
                                    className={`w-16 h-16 rounded-full border-2 flex items-center justify-center font-display font-bold text-xl transition-all duration-300 ${
                                        sequence.includes(n) ? 'bg-white text-black border-white' : 'border-white/20 text-white hover:border-white'
                                    }`}
                                >
                                    {n}
                                </button>
                            ))}
                        </div>
                        <p className="text-[10px] text-zinc-600 uppercase tracking-widest italic">Preuve d'humanit√© requise pour acc√©der √† l'arsenal.</p>
                    </div>
                </div>
            );
        };
        // --- END MODIF ---

        // --- DATA WITH CREDIBLE RATINGS ---
        
        const ALL_REVIEWS = [
            { quote: "Le bruit sur les courbes est ind√©tectable. C'est le seul outil qui passe en 4K.", author: "Thomas A.", role: "Content Creator", rating: 5 },
            { quote: "J'ai rentabilis√© l'achat en une seule vid√©o TikTok. La r√©tention a explos√©.", author: "Sarah M.", role: "OnlyFans Agency", rating: 4 },
            { quote: "Enfin un paiement unique. Je d√©teste les abonnements SaaS. Merci.", author: "Alex K.", role: "Dropshipper", rating: 5 },
            { quote: "Le mode offline m'a sauv√© la vie dans le train. Top mais l'install a pris 5min.", author: "Jules R.", role: "Entrepreneur", rating: 4 },
            { quote: "La qualit√© du template Stripe est bluffante. M√™me mon banquier s'y tromperait.", author: "Lucas V.", role: "E-commer√ßant", rating: 5 },
            { quote: "Service client au top, j'avais une question sur l'installation, r√©ponse en 10min.", author: "Chlo√© D.", role: "Influenceuse", rating: 5 },
            { quote: "C'est exactement ce qu'il manquait pour mes tournages YouTube.", author: "Mike T.", role: "YouTuber", rating: 5 },
            { quote: "L'interface Crypto est ultra clean, parfait pour mes reels.", author: "Enzo B.", role: "Crypto Trader", rating: 4 },
            { quote: "Rien √† dire, propre, efficace, pas cher pour ce que c'est.", author: "Mehdi L.", role: "Agency Owner", rating: 5 },
            { quote: "J'utilise le dashboard MYM pour motiver mes mod√®les, √ßa marche du feu.", author: "Sophie G.", role: "OF Management", rating: 5 },
            { quote: "Le fait d'avoir le code source est un vrai plus. Je peux tout customiser.", author: "Kevin P.", role: "Dev & Creator", rating: 4 },
            { quote: "Livraison instantan√©e, fichier zip propre. Rien √† redire.", author: "Antoine F.", role: "Consultant", rating: 5 },
            { quote: "Les variations des courbes sont super r√©alistes, pas de lignes droites chelous.", author: "L√©a M.", role: "Designer", rating: 5 },
            { quote: "Je pensais que c'√©tait compliqu√© mais c'est vraiment du copier-coller.", author: "Hugo S.", role: "D√©butant", rating: 4 },
            { quote: "Meilleur investissement de l'ann√©e pour mon personal branding.", author: "Marc D.", role: "Coach Business", rating: 5 },
            { quote: "Le template Shopify a l'air plus vrai que le vrai.", author: "Nassim B.", role: "Dropshipper", rating: 5 },
            { quote: "Pas d'abonnement, c'est la raison pour laquelle j'ai achet√©.", author: "Pauline H.", role: "Freelance", rating: 5 },
            { quote: "√áa fait 3 mois que je l'utilise pour mes stories, personne n'a grill√©.", author: "Julien C.", role: "Instagrammer", rating: 4 },
            { quote: "Simple. Basique. Efficace. Orelsan approuverait.", author: "Tom E.", role: "Videaste", rating: 5 },
            { quote: "Le dark mode sur OnlyFans est magnifique.", author: "Clara W.", role: "Model", rating: 5 },
            { quote: "J'ai doubl√© mes vues juste avec la miniature du dashboard.", author: "Yanis K.", role: "TikToker", rating: 4 },
            { quote: "Fini les screenshots flous trouv√©s sur Google Images.", author: "Manon L.", role: "Social Media Manager", rating: 5 },
            { quote: "L'acc√®s √† vie √† ce prix l√† c'est donn√© vu le potentiel.", author: "Romain G.", role: "Investisseur", rating: 5 },
            { quote: "J'attendais la V2 avec impatience, pas d√©√ßu du tout.", author: "Victor M.", role: "Utilisateur V1", rating: 4 },
            { quote: "Le support m'a aid√© √† changer la devise en Dollar, merci !", author: "Alice P.", role: "US Market", rating: 5 },
            { quote: "Indispensable pour faire des vid√©os 'Lifestyle' cr√©dibles.", author: "S√©bastien F.", role: "Coach", rating: 5 },
            { quote: "Je l'ai recommand√© √† tous les membres de ma formation.", author: "David R.", role: "Formateur", rating: 5 },
            { quote: "Clean code. Facile √† modifier m√™me avec Notepad.", author: "Greg T.", role: "Tech enthusiast", rating: 4 },
            { quote: "Le template TikTok Creator Fund est incroyable.", author: "In√®s B.", role: "TikToker", rating: 5 },
            { quote: "Rien que pour Stripe √ßa vaut le coup. Un peu cher mais rentabilis√©.", author: "Karim Z.", role: "E-com", rating: 4 },
            { quote: "J'aime bien le fait que tout soit local. Pas de risque de leak.", author: "Pierre N.", role: "Security focused", rating: 5 },
            { quote: "Design 10/10. Typographie respect√©e √† la lettre.", author: "Louison V.", role: "DA", rating: 5 },
            { quote: "C'est devenu mon outil num√©ro 1 pour mes vid√©os de vente.", author: "Rapha√´l Q.", role: "Copywriter", rating: 5 },
            { quote: "Merci pour la mise √† jour gratuite !", author: "Emma S.", role: "Client fid√®le", rating: 5 },
            { quote: "Le dashboard Patreon est top pour montrer la croissance.", author: "Lucas J.", role: "Podcaster", rating: 4 },
            { quote: "Aucun bug constat√©, √ßa tourne nickel sur Chrome et Safari.", author: "Maxime D.", role: "Web Dev", rating: 5 },
            { quote: "Bluffant de r√©alisme.", author: "Arthur V.", role: "R√©alisateur", rating: 5 },
            { quote: "Je m'en sers pour visualiser mes objectifs 2025.", author: "Julie K.", role: "Mindset", rating: 5 },
            { quote: "Top produit, top √©quipe.", author: "Ben H.", role: "Client", rating: 5 },
            { quote: "√Ä acheter les yeux ferm√©s si vous faites du contenu business.", author: "Samir O.", role: "Entrepreneur", rating: 5 }
        ];

        // --- COMPONENTS ---
        
        const CustomCursor = () => {
            useEffect(() => {
                const cursor = document.getElementById('cursor');
                if (!cursor) return;
                const moveCursor = (e) => {
                    cursor.style.left = e.clientX + 'px';
                    cursor.style.top = e.clientY + 'px';
                };
                const hoverElements = document.querySelectorAll('a, button, .hover-trigger, .faq-item, input, textarea');
                hoverElements.forEach(el => {
                    el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
                    el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
                });
                window.addEventListener('mousemove', moveCursor);
                return () => window.removeEventListener('mousemove', moveCursor);
            }, []);
            return <div id="cursor"></div>;
        };

        const Reveal = ({ children, delay = 0 }) => {
            const ref = useRef(null);
            useEffect(() => {
                if (!('IntersectionObserver' in window)) {
                    if (ref.current) ref.current.classList.add('visible');
                    return;
                }
                const observer = new IntersectionObserver(([entry]) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            if (ref.current) ref.current.classList.add('visible');
                        }, delay);
                    }
                }, { threshold: 0.1 }); 
                if (ref.current) observer.observe(ref.current);
                return () => observer.disconnect();
            }, [delay]);
            return <div ref={ref} className="reveal-text">{children}</div>;
        };

        const TiltCard = () => {
            const cardRef = useRef(null);
            const handleMouseMove = (e) => {
                if (!cardRef.current) return;
                const card = cardRef.current;
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const rotateX = ((y - centerY) / centerY) * -10; 
                const rotateY = ((x - centerX) / centerX) * 10;
                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            };
            const handleMouseLeave = () => {
                if (cardRef.current) cardRef.current.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg)`;
            };
            return (
                <div className="relative w-full h-[500px] flex items-center justify-center py-20" onMouseMove={handleMouseMove} onMouseLeave={handleMouseLeave}>
                    <div ref={cardRef} className="tilt-card w-[90%] md:w-[800px] h-[450px] bg-[#0A0A0A] border border-white/10 relative group z-20">
                        <div className="absolute top-0 left-0 w-full h-8 border-b border-white/10 flex items-center px-4 gap-2">
                            <div className="w-2 h-2 rounded-full bg-zinc-700"></div>
                            <div className="w-2 h-2 rounded-full bg-zinc-700"></div>
                            <div className="w-2 h-2 rounded-full bg-zinc-700"></div>
                        </div>
                        <div className="tilt-content absolute inset-0 flex items-center justify-center flex-col pt-8">
                            <h3 className="text-zinc-500 text-xs tracking-[0.3em] uppercase mb-4">Dashboard Preview</h3>
                            <div className="text-6xl md:text-8xl font-display font-bold text-white tracking-tighter">‚Ç¨ 45,290</div>
                            <div className="text-white font-mono mt-2 text-sm flex items-center gap-2">‚ñ≤ +12.4% THIS WEEK</div>
                            <div className="mt-12 flex items-end gap-1 h-32 w-2/3 opacity-50">
                                {[30, 45, 35, 60, 50, 80, 70, 90, 65, 100].map((h, i) => (
                                    <div key={i} style={{height: h + '%'}} className="flex-1 bg-zinc-600 hover:bg-white transition-colors duration-300"></div>
                                ))}
                            </div>
                        </div>
                        <div className="absolute -top-1 -left-1 w-4 h-4 border-t border-l border-white"></div>
                        <div className="absolute -bottom-1 -right-1 w-4 h-4 border-b border-r border-white"></div>
                    </div>
                </div>
            );
        };

        const FAQItem = ({ question, answer }) => {
            const [isOpen, setIsOpen] = useState(false);
            return (
                <div className="faq-item border-b border-white/10 cursor-pointer" onClick={() => setIsOpen(!isOpen)}>
                    <div className="py-6 flex justify-between items-center group">
                        <h3 className="text-lg md:text-xl font-display font-bold group-hover:text-zinc-300 transition-colors">{question}</h3>
                        <div className="text-zinc-500 group-hover:text-white transition-colors">
                            {isOpen ? <Minus /> : <Plus />}
                        </div>
                    </div>
                    <div className={`overflow-hidden transition-all duration-500 ease-in-out ${isOpen ? 'max-h-40 opacity-100 mb-6' : 'max-h-0 opacity-0'}`}>
                        <p className="text-zinc-400 font-light leading-relaxed max-w-2xl">{answer}</p>
                    </div>
                </div>
            );
        };

        const AddReviewModal = ({ isOpen, onClose }) => {
            const [step, setStep] = useState('form'); // form | sending | success
            const [rating, setRating] = useState(5);

            useEffect(() => {
                if (isOpen) {
                    setStep('form');
                    setRating(5);
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = 'unset';
                }
            }, [isOpen]);

            const handleSubmit = (e) => {
                e.preventDefault();
                setStep('sending');
                setTimeout(() => {
                    setStep('success');
                    setTimeout(() => {
                        onClose();
                    }, 3000);
                }, 1500);
            };

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center px-4">
                    <div className="absolute inset-0 bg-black/80 backdrop-blur-md" onClick={onClose}></div>
                    <div className="relative bg-[#0A0A0A] border border-white/10 w-full max-w-md p-8 rounded-2xl animate-fade-in shadow-2xl">
                        <button onClick={onClose} className="absolute top-4 right-4 text-zinc-500 hover:text-white transition-colors">
                            <XIcon />
                        </button>

                        {step === 'form' && (
                            <>
                                <h3 className="text-2xl font-display font-bold uppercase mb-2 text-center">Ajouter un avis</h3>
                                <p className="text-zinc-500 text-xs text-center mb-8 uppercase tracking-widest">Partagez votre exp√©rience</p>
                                
                                <form onSubmit={handleSubmit} className="space-y-6">
                                    <div>
                                        <label className="block text-xs uppercase font-bold text-zinc-500 mb-2">Note</label>
                                        <div className="flex gap-2 justify-center py-2">
                                            {[1, 2, 3, 4, 5].map((star) => (
                                                <button 
                                                    key={star} 
                                                    type="button" 
                                                    onClick={() => setRating(star)}
                                                    className={`transition-transform hover:scale-110 ${star <= rating ? 'text-white' : 'text-zinc-800'}`}
                                                >
                                                    <Star filled={star <= rating} />
                                                </button>
                                            ))}
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-xs uppercase font-bold text-zinc-500 mb-2">Votre Nom</label>
                                        <input type="text" required className="w-full bg-zinc-900/50 border border-white/10 rounded-lg p-3 text-white text-sm focus:outline-none focus:border-white transition-colors" placeholder="Ex: Thomas A." />
                                    </div>

                                    <div>
                                        <label className="block text-xs uppercase font-bold text-zinc-500 mb-2">Message</label>
                                        <textarea required rows="4" className="w-full bg-zinc-900/50 border border-white/10 rounded-lg p-3 text-white text-sm focus:outline-none focus:border-white transition-colors resize-none" placeholder="Votre avis..."></textarea>
                                    </div>

                                    <button type="submit" className="w-full bg-white text-black font-bold uppercase tracking-widest py-4 rounded-lg hover:bg-zinc-200 transition-colors">
                                        Envoyer l'avis
                                    </button>
                                </form>
                            </>
                        )}

                        {step === 'sending' && (
                            <div className="py-20 flex flex-col items-center justify-center text-center">
                                <div className="w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin mb-4"></div>
                                <p className="text-zinc-400 text-sm uppercase tracking-widest">Envoi en cours...</p>
                            </div>
                        )}

                        {step === 'success' && (
                            <div className="py-12 flex flex-col items-center justify-center text-center animate-fade-in">
                                <CheckCircle />
                                <h3 className="text-xl font-display font-bold uppercase mt-6 mb-2">Avis Envoy√©</h3>
                                <p className="text-zinc-400 text-sm max-w-xs leading-relaxed">
                                    Merci. Votre avis a bien √©t√© re√ßu et sera trait√© dans les plus brefs d√©lais par notre √©quipe.
                                </p>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const ReviewsSection = () => {
            const [limit, setLimit] = useState(6);
            const [isModalOpen, setIsModalOpen] = useState(false);

            const showMore = () => {
                setLimit(prev => Math.min(prev + 6, ALL_REVIEWS.length));
            };

            return (
                <section id="reviews" className="py-32 bg-[#050505] z-10 relative border-t border-white/5">
                    <div className="max-w-7xl mx-auto px-4">
                        <Reveal>
                            <div className="flex flex-col md:flex-row justify-between items-end mb-16 gap-6">
                                <h2 className="text-3xl md:text-5xl font-display font-bold uppercase text-center md:text-left">√âlite Verified</h2>
                                <button 
                                    onClick={() => setIsModalOpen(true)}
                                    className="text-xs font-bold uppercase tracking-widest border border-white/20 px-6 py-3 rounded-full hover:bg-white hover:text-black transition-all hover-trigger"
                                >
                                    + Ajouter un avis
                                </button>
                            </div>
                        </Reveal>
                        
                        <div className="grid md:grid-cols-3 gap-8">
                            {ALL_REVIEWS.slice(0, limit).map((rev, i) => (
                                <Reveal key={i}>
                                    <div className="p-8 border border-white/10 bg-zinc-900/20 rounded-2xl hover:bg-zinc-900/40 transition-colors h-full flex flex-col justify-between">
                                        <div>
                                            <div className="flex gap-1 text-white mb-6">
                                                {[1,2,3,4,5].map(s => <Star key={s} filled={s <= rev.rating} />)}
                                            </div>
                                            <p className="text-zinc-300 font-light italic mb-8 leading-relaxed">"{rev.quote}"</p>
                                        </div>
                                        <div>
                                            <p className="font-display font-bold uppercase text-sm">{rev.author}</p>
                                            <p className="text-zinc-500 text-xs uppercase tracking-widest mt-1">{rev.role}</p>
                                        </div>
                                    </div>
                                </Reveal>
                            ))}
                        </div>

                        {limit < ALL_REVIEWS.length && (
                            <div className="mt-16 text-center">
                                <button 
                                    onClick={showMore}
                                    className="text-xs font-bold uppercase tracking-widest border-b border-white/30 pb-1 hover:border-white transition-colors hover-trigger text-zinc-400 hover:text-white"
                                >
                                    Afficher plus d'avis ({ALL_REVIEWS.length - limit} restants)
                                </button>
                            </div>
                        )}
                    </div>

                    <AddReviewModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />
                </section>
            );
        };

        // --- MAIN APP ---
        const App = () => {
            const [user, setUser] = useState(null);
            // MODIF: Captcha memory
            const [isVerified, setIsVerified] = useState(localStorage.getItem("human_verified") === "1");

            useEffect(() => {
                // S'abonner aux changements d'auth
                if (window.onAuthStateChange) {
                    window.onAuthStateChange((u) => {
                        setUser(u);
                        console.log("Utilisateur connect√©:", u);
                    });
                }
                // Initial log
                if (!isVerified) console.log("[captcha] User not verified yet.");
            }, []);

            const handleBuy = () => window.location.href = "https://checkout.revolut.com/pay/74e7f128-2822-47e9-904f-845911a86af9";
            
            const scrollToPricing = () => {
                const pricingSection = document.getElementById('pricing');
                if (pricingSection) {
                    pricingSection.scrollIntoView({ behavior: 'smooth' });
                }
            };
            
            // FIX: appel direct pour conserver le geste utilisateur et √©viter la fermeture du popup
            const handleLogin = () => {
                if (!window.loginWithGoogle) {
                    return;
                }
                // on d√©clenche la promesse et on g√®re l'utilisateur une fois connect√©
                window.loginWithGoogle().then((loggedInUser) => {
                    if (loggedInUser) {
                        setUser(loggedInUser);
                    }
                });
            };

            const handleLogout = async () => {
                if (window.logoutFirebase) {
                    await window.logoutFirebase();
                    setUser(null);
                }
            };

            const templates = [
                { label: "OnlyFans", val: "Creator" }, { label: "Stripe", val: "Business" },
                { label: "Shopify", val: "E-com" }, { label: "Crypto", val: "Portfolio" },
                { label: "MYM", val: "Fans" }, { label: "YouTube", val: "Studio" },
                { label: "TikTok", val: "Creator" }, { label: "Patreon", val: "Members" },
                { label: "Coinbase", val: "Wallet" }, { label: "Etsy", val: "Seller" },
            ];

            return (
                <div className="relative min-h-screen bg-black text-white selection:bg-white selection:text-black">
                    {/* MODIF: Captcha Block */}
                    {!isVerified && <CaptchaModal onVerified={() => setIsVerified(true)} />}
                    {/* END MODIF */}

                    <CustomCursor />
                    <div className="fixed inset-0 bg-noise pointer-events-none z-0 mix-blend-overlay opacity-20"></div>

                    <nav className="fixed w-full z-50 px-6 py-6 mix-blend-difference text-white flex justify-between items-center">
                        <div className="font-display font-bold text-xl tracking-tighter hover-trigger cursor-pointer">GENDASH.</div>
                        <div className="flex items-center gap-6">
                            {user ? (
                                <div className="flex items-center gap-4">
                                    <div className="flex items-center gap-2">
                                        <img src={user.photoURL} alt="User" className="w-6 h-6 rounded-full border border-white/50" />
                                        <span className="text-xs font-bold uppercase tracking-widest hidden sm:block">{user.displayName ? user.displayName.split(' ')[0] : 'User'}</span>
                                    </div>
                                    <button onClick={handleLogout} className="hover-trigger" title="D√©connexion">
                                        <LogOutIcon />
                                    </button>
                                </div>
                            ) : (
                                <button onClick={handleLogin} className="flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-zinc-500 hover:text-white transition-colors hover-trigger cursor-pointer">
                                    <GoogleIcon /> Connexion
                                </button>
                            )}
                            
                            <button onClick={scrollToPricing} className="text-xs font-bold tracking-widest uppercase border-b border-white pb-1 hover:border-transparent transition-colors hover-trigger cursor-pointer">
                                Access V1
                            </button>
                        </div>
                    </nav>

                    {/* HERO */}
                    <header className="relative h-screen flex flex-col justify-center items-center px-4 overflow-hidden z-10">
                        <div className="grid-line w-px h-full left-1/4 top-0"></div>
                        <div className="grid-line w-px h-full left-3/4 top-0"></div>
                        <div className="relative z-10 text-center mix-blend-difference">
                            <Reveal>
                                <p className="text-xs md:text-sm font-bold tracking-[0.5em] text-zinc-400 mb-6 uppercase">L'outil secret des 1%</p>
                            </Reveal>
                            <Reveal delay={100}>
                                <h1 className="text-[12vw] leading-[0.85] font-display font-bold tracking-tighter uppercase text-white">
                                    Domination <br/><span className="text-transparent stroke-text" style={{WebkitTextStroke: '1px white'}}>Visuelle</span>
                                </h1>
                            </Reveal>
                            <Reveal delay={200}>
                                <div className="mt-12 flex flex-col items-center gap-6">
                                    <p className="max-w-md text-zinc-400 text-sm md:text-base font-light leading-relaxed">G√©n√©rez des preuves sociales ind√©tectables. L'interface est fausse. Le statut est r√©el.</p>
                                    <button onClick={scrollToPricing} className="hover-trigger cursor-pointer group relative px-8 py-4 bg-white text-black font-bold tracking-widest text-xs uppercase overflow-hidden">
                                        <span className="relative z-10 group-hover:text-white transition-colors duration-300">Obtenir l'acc√®s (249‚Ç¨)</span>
                                        <div className="absolute inset-0 bg-black transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></div>
                                    </button>
                                </div>
                            </Reveal>
                        </div>
                    </header>

                    {/* SHOWCASE */}
                    <section className="relative py-32 bg-[#050505] z-10">
                        <div className="max-w-7xl mx-auto px-4">
                            <div className="flex flex-col md:flex-row justify-between items-end mb-20 border-b border-white/10 pb-6">
                                <Reveal>
                                    <h2 className="text-4xl md:text-6xl font-display font-bold uppercase">Silence.<br/>On Encaisse.</h2>
                                </Reveal>
                                <Reveal delay={200}>
                                    <p className="text-right text-xs text-zinc-500 font-mono mt-4 md:mt-0">/// SYSTEM STATUS: ONLINE<br/>/// MODE: OFFLINE READY</p>
                                </Reveal>
                            </div>
                            <TiltCard />
                            <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mt-20 border-t border-white/10 pt-8">
                                {templates.map((item, i) => (
                                    <div key={i} className="group hover-trigger cursor-pointer p-2 hover:bg-white/5 transition-colors rounded-lg">
                                        <h4 className="text-zinc-500 text-[10px] uppercase tracking-wider mb-1">{item.label}</h4>
                                        <p className="text-sm md:text-base font-display font-bold text-white">{item.val}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* MARQUEE */}
                    <div className="py-12 bg-white text-black overflow-hidden whitespace-nowrap border-y border-black z-10 relative flex">
                        <div className="animate-marquee flex whitespace-nowrap">
                            {Array(20).fill("MONEY TALKS ‚Ä¢ WEALTH WHISPERS ‚Ä¢ ").map((t, i) => (
                                <span key={i} className="text-6xl font-display font-bold tracking-tighter mx-4 block">{t}</span>
                            ))}
                        </div>
                    </div>

                    {/* FEATURES */}
                    <section className="py-32 px-4 max-w-5xl mx-auto z-10 relative">
                        <Reveal>
                            <h2 className="text-center text-xs font-bold tracking-[0.3em] uppercase text-zinc-500 mb-20">L'Arsenal Complet</h2>
                        </Reveal>
                        <div className="space-y-32">
                            {[{ num: "01", title: "Smart Noise‚Ñ¢", desc: "La perfection est suspecte. Notre algorithme introduit un chaos contr√¥l√© dans les courbes." },
                              { num: "02", title: "Ghost Protocol", desc: "Aucune trace. Tout tourne en local sur votre machine. Pas de serveur, pas de logs. Vous √™tes un fant√¥me." },
                              { num: "03", title: "Propri√©t√© Totale", desc: "Ce n'est pas un abonnement. Vous ne louez pas votre succ√®s. Vous poss√©dez le code source pour toujours." }
                            ].map((feat, i) => (
                                <Reveal key={i}>
                                    <div className="flex flex-col md:flex-row gap-10 md:gap-32 items-start group hover-trigger cursor-pointer">
                                        <span className="text-6xl md:text-8xl font-display font-bold text-zinc-800 group-hover:text-white transition-colors duration-500">{feat.num}</span>
                                        <div className="pt-4">
                                            <h3 className="text-3xl md:text-4xl font-display font-bold uppercase mb-6">{feat.title}</h3>
                                            <p className="text-zinc-400 leading-relaxed max-w-md text-lg">{feat.desc}</p>
                                        </div>
                                    </div>
                                </Reveal>
                            ))}
                        </div>
                    </section>

                    {/* PRICING (COMPACT) */}
                    <section id="pricing" className="py-24 flex justify-center px-4 relative z-10">
                        <div className="absolute inset-0 bg-white/5 skew-y-3 transform origin-top-left -z-10"></div>
                        <div className="w-full max-w-xl">
                             <Reveal>
                                <div className="bg-gradient-to-br from-[#1a1a1a] to-black border border-white/10 p-1 rounded-3xl shadow-2xl relative overflow-hidden group hover-trigger hover:scale-[1.02] transition-transform duration-500">
                                    <div className="absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div>
                                    <div className="bg-[#050505] rounded-[20px] p-8 md:p-10 flex flex-col items-center text-center relative z-10">
                                        <div className="w-10 h-10 border border-white/20 rounded-full flex items-center justify-center mb-6"><Star /></div>
                                        <h2 className="text-3xl font-display font-bold uppercase mb-1">Acc√®s √† Vie</h2>
                                        <p className="text-zinc-500 font-mono text-[10px] uppercase tracking-widest mb-8">Batch V1 - Limited Availability</p>
                                        <div className="flex items-baseline gap-2 mb-8">
                                            <span className="text-6xl md:text-7xl font-display font-bold tracking-tighter">249‚Ç¨</span>
                                            <span className="text-zinc-600 text-lg line-through decoration-1">499‚Ç¨</span>
                                        </div>
                                        <ul className="space-y-3 mb-8 text-left w-full max-w-xs mx-auto text-zinc-400 font-light text-sm">
                                            <li className="flex items-center gap-3"><span className="w-1.5 h-1.5 bg-white rounded-full"></span> 10 Templates Inclus</li>
                                            <li className="flex items-center gap-3"><span className="w-1.5 h-1.5 bg-white rounded-full"></span> Code Source HTML/React</li>
                                            <li className="flex items-center gap-3"><span className="w-1.5 h-1.5 bg-white rounded-full"></span> Usage Commercial Illimit√©</li>
                                            <li className="flex items-center gap-3"><span className="w-1.5 h-1.5 bg-white rounded-full"></span> Mises √† jour V2 Gratuites</li>
                                        </ul>
                                        <button onClick={handleBuy} className="w-full bg-white text-black font-bold uppercase tracking-widest py-4 px-6 hover:bg-zinc-200 transition-colors cursor-pointer text-sm">S√©curiser</button>
                                        <p className="mt-4 text-[9px] text-zinc-600 uppercase tracking-widest">Paiement encrypt√© via Stripe/Revolut</p>
                                    </div>
                                </div>
                            </Reveal>
                        </div>
                    </section>

                    {/* FAQ */}
                    <section id="faq" className="py-32 px-4 max-w-3xl mx-auto z-10 relative">
                        <Reveal>
                            <h2 className="text-center text-xs font-bold tracking-[0.3em] uppercase text-zinc-500 mb-20">Black Book (FAQ)</h2>
                        </Reveal>
                        <div className="space-y-2">
                            <FAQItem question="Paiement unique vraiment ?" answer="Oui. 249‚Ç¨ une fois. Z√©ro abonnement mensuel. Vous √©conomisez 480‚Ç¨/an par rapport aux concurrents." />
                            <FAQItem question="Comment je re√ßois les fichiers ?" answer="Livraison instantan√©e par email apr√®s le paiement. Vous recevez un pack .zip contenant tous les templates et le code source." />
                            <FAQItem question="Faut-il savoir coder ?" answer="Non. Ouvrez le fichier .html, cliquez sur les chiffres, √©ditez. C'est aussi simple que d'√©crire un email. Un guide vid√©o est inclus." />
                            <FAQItem question="Est-ce compatible Mobile ?" answer="Oui. Les dashboards sont 'Responsive'. Vous pouvez les afficher sur votre t√©l√©phone pour vous filmer." />
                        </div>
                    </section>

                    {/* REVIEWS SECTION WITH MODAL */}
                    <ReviewsSection />

                    {/* MODIF: Footer at absolute bottom */}
                    <footer className="py-20 px-6 border-t border-white/10 bg-[#020202] z-10 relative">
                        <div className="max-w-7xl mx-auto flex flex-col md:flex-row justify-between gap-12">
                            <div className="flex flex-col gap-6 max-w-xs">
                                <h2 className="text-3xl font-display font-bold tracking-tighter select-none">GENDASH</h2>
                                <p className="text-zinc-500 text-sm leading-relaxed">
                                    La r√©f√©rence en mati√®re de preuve sociale visuelle. Dominez votre march√© avec des outils d'√©lite.
                                </p>
                            </div>
                            
                            <div className="grid grid-cols-2 md:grid-cols-3 gap-12 md:gap-20">
                                <div className="flex flex-col gap-4">
                                    <h3 className="text-xs font-bold uppercase tracking-widest text-white mb-2">Socials</h3>
                                    <a href="https://www.instagram.com/gendashboard/?igsh=YWVjejk2cjlkd2N5#" className="text-zinc-500 hover:text-white transition-colors text-sm hover-trigger cursor-pointer">Instagram</a>
                                    <a href="https://www.tiktok.com/@gendash.fr" className="text-zinc-500 hover:text-white transition-colors text-sm hover-trigger cursor-pointer">TikTok</a>
                                </div>
                                
                                <div className="flex flex-col gap-4">
                                    <h3 className="text-xs font-bold uppercase tracking-widest text-white mb-2">L√©gal</h3>
                                    <a href="mentions-legales.html" className="text-zinc-500 hover:text-white transition-colors text-sm hover-trigger cursor-pointer">Mentions L√©gales</a>
                                    <a href="confidentialite.html" className="text-zinc-500 hover:text-white transition-colors text-sm hover-trigger cursor-pointer">Confidentialit√©</a>
                                    <a href="cgv.html" className="text-zinc-500 hover:text-white transition-colors text-sm hover-trigger cursor-pointer">CGV</a>
                                </div>
                                
                                <div className="flex flex-col gap-4">
                                    <h3 className="text-xs font-bold uppercase tracking-widest text-white mb-2">Soci√©t√©</h3>
                                    <a href="pdg.html" className="text-zinc-500 hover:text-white transition-colors text-sm hover-trigger cursor-pointer">PDG</a>
                                    <a href="support.html" className="text-zinc-500 hover:text-white transition-colors text-sm hover-trigger cursor-pointer">Support</a>
                                </div>
                            </div>
                        </div>
                        <div className="max-w-7xl mx-auto mt-20 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4">
                            <p className="text-[10px] text-zinc-600 uppercase tracking-widest">¬© 2024 GENDASH PRO. All rights reserved.</p>
                            <div className="flex gap-4">
                                <div className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                <span className="text-[10px] text-zinc-500 uppercase tracking-widest">System Operational</span>
                            </div>
                        </div>
                    </footer>
                    {/* END MODIF */}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
